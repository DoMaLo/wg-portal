import{Q as h,i as e,A as m,j as v,k as P,X as x,l as n,O as o,x as u,J as l,m as f,p as b,q as i,K as p,L as g,W as d,s as S}from"./index.92683763.js";const k=h({id:"users",state:()=>({users:[],filter:"",pageSize:10,pageOffset:0,pages:[],fetching:!1}),getters:{Find:s=>a=>s.users.find(c=>c.Identifier===a),Count:s=>s.users.length,FilteredCount:s=>s.Filtered.length,All:s=>s.users,Filtered:s=>s.filter?s.users.filter(a=>a.Firstname.includes(s.filter)||a.Lastname.includes(s.filter)||a.Email.includes(s.filter)||a.Identifier.includes(s.filter)):s.users,FilteredAndPaged:s=>s.Filtered.slice(s.pageOffset,s.pageOffset+s.pageSize),isFetching:s=>s.fetching,hasNextPage:s=>s.pageOffset<s.FilteredCount-s.pageSize,hasPrevPage:s=>s.pageOffset>0,currentPage:s=>s.pageOffset/s.pageSize+1},actions:{afterPageSizeChange(){this.pageOffset=0,this.calculatePages()},calculatePages(){let s=1;this.pages=[];for(let a=0;a<this.FilteredCount;a+=this.pageSize)this.pages.push(s++)},gotoPage(s){this.pageOffset=(s-1)*this.pageSize,this.calculatePages()},nextPage(){this.pageOffset+=this.pageSize,this.calculatePages()},previousPage(){this.pageOffset-=this.pageSize,this.calculatePages()},async fetch(){this.fetching=!0,this.users=[{Identifier:"user0",Email:"tester@test.de",Firstname:"Franz",Lastname:"Tester",Source:"ldap",Peers:19,IsAdmin:!0,Phone:"+436789456",Department:"IT",Active:!0},{Identifier:"user1",Email:"noinfo@nix.de",Firstname:"Simple",Lastname:"User",Source:"db",Peers:3,IsAdmin:!1,Phone:"",Department:"",Active:!1},{Identifier:"another unique id",Email:"Volodimirius.longemail@test.de",Firstname:"Volodimirius",Lastname:"Longnameinus",Source:"ldap",Peers:200,IsAdmin:!0,Phone:"+12345798564897",Department:"Sales Lead",Active:!0}],this.fetching=!1,this.calculatePages()}}}),C={class:"mt-4 row"},y={class:"col-12 col-lg-5"},z={class:"col-12 col-lg-4 text-lg-end"},A={class:"form-group d-inline"},F={class:"input-group mb-3"},O=e("button",{class:"input-group-text btn btn-primary",title:"Search"},[e("i",{class:"fa-solid fa-search"})],-1),$=m('<div class="col-12 col-lg-3 text-lg-end"><a class="btn btn-primary" href="#" title="Send mail to selected users"><i class="fa fa-paper-plane"></i></a><a class="btn btn-primary ms-2" href="#" title="Add multiple users"><i class="fa fa-plus me-1"></i><i class="fa fa-users"></i></a><a class="btn btn-primary ms-2" href="#" title="Add a user"><i class="fa fa-plus me-1"></i><i class="fa fa-user"></i></a></div>',1),I={class:"mt-2 table-responsive"},w={key:0},L={key:1,class:"table table-sm",id:"userTable"},U=e("th",{scope:"col"},[e("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault",title:"Select all"})],-1),E={scope:"col"},D={scope:"col"},V={scope:"col"},B={scope:"col"},K={scope:"col",class:"text-center"},T={scope:"col",class:"text-center"},X={scope:"col",class:"text-center"},q=e("th",{scope:"col"},null,-1),J=e("th",{scope:"row"},[e("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault"})],-1),N={class:"text-center"},Q={class:"badge rounded-pill bg-light"},W={class:"text-center"},_={class:"text-center"},j={key:0,class:"text-danger"},G=e("i",{class:"fa fa-check-circle"},null,-1),H=[G],M={key:1},R=e("i",{class:"fa fa-circle-xmark"},null,-1),Y=[R],Z=e("td",{class:"text-center"},[e("a",{href:"#",title:"Show peers"},[e("i",{class:"fa-solid fa-magnifying-glass me-2"})]),e("a",{href:"#",title:"Edit peer"},[e("i",{class:"fas fa-cog"})])],-1),ee=e("hr",null,null,-1),se={class:"mt-3"},ae={class:"row"},te={class:"col-6"},le={class:"pagination pagination-sm"},ie=["onClick"],ce={class:"col-6"},re={class:"form-group row"},ne={for:"paginationSelector",class:"col-sm-6 col-form-label text-end"},oe={class:"col-sm-6"},ue=e("option",{value:"10"},"10",-1),pe=e("option",{value:"25"},"25",-1),de=e("option",{value:"50"},"50",-1),fe=e("option",{value:"100"},"100",-1),ge={value:"999999999"},he={setup(s){const a=k();return P("close"),x(()=>{a.fetch()}),(c,r)=>(n(),o(p,null,[u("Confirmation></Confirmation "),u(" User list "),e("div",C,[e("div",y,[e("h1",null,l(c.$t("user.h1")),1)]),e("div",z,[e("div",A,[e("div",F,[f(e("input",{type:"text",class:"form-control",placeholder:"Search...","onUpdate:modelValue":r[0]||(r[0]=t=>i(a).filter=t),onKeyup:r[1]||(r[1]=(...t)=>i(a).afterPageSizeChange&&i(a).afterPageSizeChange(...t))},null,544),[[b,i(a).filter]]),O])])]),$]),e("div",I,[i(a).Count===0?(n(),o("div",w,[e("h4",null,l(c.$t("users.noUsers.h4")),1),e("p",null,l(c.$t("users.noUsers.message")),1)])):u("v-if",!0),i(a).Count!==0?(n(),o("table",L,[e("thead",null,[e("tr",null,[U,u(" select "),e("th",E,l(c.$t("user.id")),1),e("th",D,l(c.$t("user.email")),1),e("th",V,l(c.$t("user.firstname")),1),e("th",B,l(c.$t("user.lastname")),1),e("th",K,l(c.$t("user.source")),1),e("th",T,l(c.$t("user.peers")),1),e("th",X,l(c.$t("user.admin")),1),q,u(" Actions ")])]),e("tbody",null,[(n(!0),o(p,null,g(i(a).FilteredAndPaged,t=>(n(),o("tr",{key:t.Identifier},[J,e("td",null,l(t.Identifier),1),e("td",null,l(t.Email),1),e("td",null,l(t.Firstname),1),e("td",null,l(t.Lastname),1),e("td",N,[e("span",Q,l(t.Source),1)]),e("td",W,l(t.Peers),1),e("td",_,[t.IsAdmin?(n(),o("span",j,H)):(n(),o("span",M,Y))]),Z]))),128))])])):u("v-if",!0)]),ee,e("div",se,[e("div",ae,[e("div",te,[e("ul",le,[e("li",{class:d(["page-item",{disabled:i(a).pageOffset===0}])},[e("a",{class:"page-link",onClick:r[2]||(r[2]=(...t)=>i(a).previousPage&&i(a).previousPage(...t))},"\xAB")],2),(n(!0),o(p,null,g(i(a).pages,t=>(n(),o("li",{key:t,class:d(["page-item",{active:i(a).currentPage===t}])},[e("a",{class:"page-link",onClick:me=>i(a).gotoPage(t)},l(t),9,ie)],2))),128)),e("li",{class:d(["page-item",{disabled:!i(a).hasNextPage}])},[e("a",{class:"page-link",onClick:r[3]||(r[3]=(...t)=>i(a).nextPage&&i(a).nextPage(...t))},"\xBB")],2)])]),e("div",ce,[e("div",re,[e("label",ne,l(c.$t("interfaces.pagination.size"))+":",1),e("div",oe,[f(e("select",{class:"form-select","onUpdate:modelValue":r[4]||(r[4]=t=>i(a).pageSize=t),onClick:r[5]||(r[5]=t=>i(a).afterPageSizeChange())},[ue,pe,de,fe,e("option",ge,l(c.$t("interfaces.pagination.all")),1)],512),[[S,i(a).pageSize,void 0,{number:!0}]])])])])])])],64))}};var Pe=v(he,[["__file","/home/h44z/workspace/go/wg-portal/cmd/wg-portal-spa/frontend/src/views/UserView.vue"]]);export{Pe as default};
