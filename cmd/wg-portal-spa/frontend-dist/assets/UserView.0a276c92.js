import{d as g,_,r as m,o as v,a as r,c,b as d,e,t as a,w as f,v as P,u as l,F as u,f as p,n as h,g as S,h as b}from"./index.42f800f5.js";const k=g({id:"users",state:()=>({users:[],filter:"",pageSize:10,pageOffset:0,pages:[],fetching:!1}),getters:{Find:s=>t=>s.users.find(o=>o.Identifier===t),Count:s=>s.users.length,FilteredCount:s=>s.Filtered.length,All:s=>s.users,Filtered:s=>s.filter?s.users.filter(t=>t.Firstname.includes(s.filter)||t.Lastname.includes(s.filter)||t.Email.includes(s.filter)||t.Identifier.includes(s.filter)):s.users,FilteredAndPaged:s=>s.Filtered.slice(s.pageOffset,s.pageOffset+s.pageSize),isFetching:s=>s.fetching,hasNextPage:s=>s.pageOffset<s.FilteredCount-s.pageSize,hasPrevPage:s=>s.pageOffset>0,currentPage:s=>s.pageOffset/s.pageSize+1},actions:{afterPageSizeChange(){this.pageOffset=0,this.calculatePages()},calculatePages(){let s=1;this.pages=[];for(let t=0;t<this.FilteredCount;t+=this.pageSize)this.pages.push(s++)},gotoPage(s){this.pageOffset=(s-1)*this.pageSize,this.calculatePages()},nextPage(){this.pageOffset+=this.pageSize,this.calculatePages()},previousPage(){this.pageOffset-=this.pageSize,this.calculatePages()},async fetch(){this.fetching=!0,this.users=[{Identifier:"user0",Email:"tester@test.de",Firstname:"Franz",Lastname:"Tester",Source:"ldap",Peers:19,IsAdmin:!0,Phone:"+436789456",Department:"IT",Active:!0},{Identifier:"user1",Email:"noinfo@nix.de",Firstname:"Simple",Lastname:"User",Source:"db",Peers:3,IsAdmin:!1,Phone:"",Department:"",Active:!1},{Identifier:"another unique id",Email:"Volodimirius.longemail@test.de",Firstname:"Volodimirius",Lastname:"Longnameinus",Source:"ldap",Peers:200,IsAdmin:!0,Phone:"+12345798564897",Department:"Sales Lead",Active:!0}],this.fetching=!1,this.calculatePages()}}}),C={class:"mt-4 row"},y={class:"col-12 col-lg-5"},z={class:"col-12 col-lg-4 text-lg-end"},F={class:"form-group d-inline"},x={class:"input-group mb-3"},$=e("button",{class:"input-group-text btn btn-primary",title:"Search"},[e("i",{class:"fa-solid fa-search"})],-1),w=b('<div class="col-12 col-lg-3 text-lg-end"><a class="btn btn-primary" href="#" title="Send mail to selected users"><i class="fa fa-paper-plane"></i></a><a class="btn btn-primary ms-2" href="#" title="Add multiple users"><i class="fa fa-plus me-1"></i><i class="fa fa-users"></i></a><a class="btn btn-primary ms-2" href="#" title="Add a user"><i class="fa fa-plus me-1"></i><i class="fa fa-user"></i></a></div>',1),A={class:"mt-2 table-responsive"},I={key:0},O={key:1,class:"table table-sm",id:"userTable"},V=e("th",{scope:"col"},[e("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault",title:"Select all"})],-1),L={scope:"col"},U={scope:"col"},D={scope:"col"},E={scope:"col"},N={scope:"col",class:"text-center"},T={scope:"col",class:"text-center"},B={scope:"col",class:"text-center"},M=e("th",{scope:"col"},null,-1),q=e("th",{scope:"row"},[e("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault"})],-1),K={class:"text-center"},j={class:"badge rounded-pill bg-light"},G={class:"text-center"},H={class:"text-center"},J={key:0,class:"text-danger"},Q=e("i",{class:"fa fa-check-circle"},null,-1),R=[Q],W={key:1},X=e("i",{class:"fa fa-circle-xmark"},null,-1),Y=[X],Z=e("td",{class:"text-center"},[e("a",{href:"#",title:"Show peers"},[e("i",{class:"fa-solid fa-magnifying-glass me-2"})]),e("a",{href:"#",title:"Edit peer"},[e("i",{class:"fas fa-cog"})])],-1),ee=e("hr",null,null,-1),se={class:"mt-3"},te={class:"row"},ie={class:"col-6"},ae={class:"pagination pagination-sm"},le=["onClick"],oe={class:"col-6"},ne={class:"form-group row"},re={for:"paginationSelector",class:"col-sm-6 col-form-label text-end"},ce={class:"col-sm-6"},de=e("option",{value:"10"},"10",-1),ue=e("option",{value:"25"},"25",-1),he=e("option",{value:"50"},"50",-1),fe=e("option",{value:"100"},"100",-1),pe={value:"999999999"},ge={setup(s){const t=k();return m("close"),v(()=>{t.fetch()}),(o,n)=>(r(),c(u,null,[d("Confirmation></Confirmation "),d(" User list "),e("div",C,[e("div",y,[e("h1",null,a(o.$t("user.h1")),1)]),e("div",z,[e("div",F,[e("div",x,[f(e("input",{type:"text",class:"form-control",placeholder:"Search...","onUpdate:modelValue":n[0]||(n[0]=i=>l(t).filter=i),onKeyup:n[1]||(n[1]=(...i)=>l(t).afterPageSizeChange&&l(t).afterPageSizeChange(...i))},null,544),[[P,l(t).filter]]),$])])]),w]),e("div",A,[l(t).Count===0?(r(),c("div",I,[e("h4",null,a(o.$t("users.noUsers.h4")),1),e("p",null,a(o.$t("users.noUsers.message")),1)])):d("v-if",!0),l(t).Count!==0?(r(),c("table",O,[e("thead",null,[e("tr",null,[V,d(" select "),e("th",L,a(o.$t("user.id")),1),e("th",U,a(o.$t("user.email")),1),e("th",D,a(o.$t("user.firstname")),1),e("th",E,a(o.$t("user.lastname")),1),e("th",N,a(o.$t("user.source")),1),e("th",T,a(o.$t("user.peers")),1),e("th",B,a(o.$t("user.admin")),1),M,d(" Actions ")])]),e("tbody",null,[(r(!0),c(u,null,p(l(t).FilteredAndPaged,i=>(r(),c("tr",{key:i.Identifier},[q,e("td",null,a(i.Identifier),1),e("td",null,a(i.Email),1),e("td",null,a(i.Firstname),1),e("td",null,a(i.Lastname),1),e("td",K,[e("span",j,a(i.Source),1)]),e("td",G,a(i.Peers),1),e("td",H,[i.IsAdmin?(r(),c("span",J,R)):(r(),c("span",W,Y))]),Z]))),128))])])):d("v-if",!0)]),ee,e("div",se,[e("div",te,[e("div",ie,[e("ul",ae,[e("li",{class:h(["page-item",{disabled:l(t).pageOffset===0}])},[e("a",{class:"page-link",onClick:n[2]||(n[2]=(...i)=>l(t).previousPage&&l(t).previousPage(...i))},"\xAB")],2),(r(!0),c(u,null,p(l(t).pages,i=>(r(),c("li",{key:i,class:h(["page-item",{active:l(t).currentPage===i}])},[e("a",{class:"page-link",onClick:_e=>l(t).gotoPage(i)},a(i),9,le)],2))),128)),e("li",{class:h(["page-item",{disabled:!l(t).hasNextPage}])},[e("a",{class:"page-link",onClick:n[3]||(n[3]=(...i)=>l(t).nextPage&&l(t).nextPage(...i))},"\xBB")],2)])]),e("div",oe,[e("div",ne,[e("label",re,a(o.$t("interfaces.pagination.size"))+":",1),e("div",ce,[f(e("select",{class:"form-select","onUpdate:modelValue":n[4]||(n[4]=i=>l(t).pageSize=i),onClick:n[5]||(n[5]=i=>l(t).afterPageSizeChange())},[de,ue,he,fe,e("option",pe,a(o.$t("interfaces.pagination.all")),1)],512),[[S,l(t).pageSize,void 0,{number:!0}]])])])])])])],64))}};var ve=_(ge,[["__file","/home/h44z/workspace/go/wg-portal/cmd/wg-portal-spa/frontend/src/views/UserView.vue"]]);export{ve as default};
